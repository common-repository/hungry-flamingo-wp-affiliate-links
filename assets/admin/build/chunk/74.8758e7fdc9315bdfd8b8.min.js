"use strict";(globalThis.webpackChunkhungry_flamingo_wp_affiliate_links=globalThis.webpackChunkhungry_flamingo_wp_affiliate_links||[]).push([[74],{4376:(e,t,n)=>{function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const a={endpoint:e,current_time:(new Date).toLocaleTimeString(),_wpnonce:wpEnv._wp_rest_nonce,_wp_http_referer:wpEnv._wp_http_referer},r={...a};async function l(){const t=await fetch(wpEnv._wp_rest_url+"hungry-flamingo/v1/"+wpEnv.plugin_slug+"/"+e,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8","X-WP-Nonce":wpEnv._wp_rest_nonce}}).then((e=>{if(e.ok)return e.json();throw new Error("Server response was not OK")})).then((e=>e));return null!=t.success?t:'{"success":false, "msg":"Unknown error"}'}async function i(){var t=JSON.stringify(r);const n=await fetch(wpEnv._wp_rest_url+"hungry-flamingo/v1/"+wpEnv.plugin_slug+"/"+e,{method:"POST",body:t,headers:{"Content-Type":"application/json; charset=utf-8","X-WP-Nonce":wpEnv._wp_rest_nonce}}).then((e=>{if(e.ok)return e.json();throw new Error("Server response was not OK")})).then((e=>e));return null!=n.success?n:'{"success":false, "msg":"Unknown error"}'}return r.data=void 0!==n?JSON.stringify(n):null,"GET"===t?l():"POST"===t?i():null}n.d(t,{y:()=>a})},8074:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s}),n(9307);var a=n(4494),r=n(9062),l=n(1508),i=n(4376),c=n(6477),o=n(2341);function s(){const[e,t]=React.useState(void 0),{modalObject:n,setModalObject:s}=React.useContext(c.t),u=[{field:"url",headerName:"Url",width:150},{field:"title",headerName:"Title",width:150},{field:"icon",headerName:"Icon",width:150,renderCell:e=>React.createElement("div",null,React.createElement("img",{src:e.row.icon,alt:"",width:"30px"}))}];return React.useEffect((()=>{(async()=>{try{const e=await(0,i.y)("get-affiliate-links");if(1==e.success){let n=[],a=JSON.parse(e.data);null!=a&&Object.keys(a).map((e=>{n.push(a[e])})),t(n)}}catch(e){console.log(e)}})()}),[]),void 0===e?React.createElement(React.Fragment,null,React.createElement(l.Z,{sx:{display:"flex",width:"100%",justifyContent:"center",padding:"3em"}},React.createElement(r.Z,null))):React.createElement(React.Fragment,null,React.createElement("div",{style:{height:500,width:"100%"}},React.createElement(a._,{rows:e,columns:u,pageSize:25,rowsPerPageOptions:[25,50],checkboxSelection:!0,disableMultipleSelection:!0,getRowId:e=>e.url,onRowDoubleClick:(e,t)=>{var a;a=e.row,s({...n,id:"AddAffiliate",title:"Edit affiliate",content:React.createElement(o.Kp,{affiliateData:a})})}})))}}}]);